module.exports = function (a) {
    a.initConfig({
        pkg: a.file.readJSON("package.json"),
        copy: {js: {files: [{src: ["spin.js", "jquery.spin.js"], dest: "site/"}]}},
        uglify: {
            options: {banner: "// http://spin.js.org/#v<%= pkg.version %>\n"},
            js: {files: {"site/spin.min.js": ["site/spin.js"], "spin.min.js": ["site/spin.min.js"]}}
        },
        bump: {
            options: {
                files: ["package.json", "component.json"],
                updateConfigs: ["pkg"],
                commit: true,
                commitMessage: "Release v%VERSION%",
                commitFiles: ["package.json", "component.json", "spin.min.js"],
                createTag: true,
                tagName: "%VERSION%",
                push: false
            }
        },
        "gh-pages": {release: {options: {base: "site", message: "automatic commit"}, src: "**/*"}}
    });
    a.loadNpmTasks("grunt-contrib-copy");
    a.loadNpmTasks("grunt-contrib-uglify");
    a.loadNpmTasks("grunt-bump");
    a.loadNpmTasks("grunt-gh-pages");
    a.registerTask("default", ["copy", "uglify"])
};